---
title: 'BCH_API_R'
author: Elvis Casco
execute:
  echo: true
format:
  html:
    code-fold: true
    code-tools: true
    toc: true
    echo: true
    warning: false
keep-ipynb: true
# jupyter: julia-1.10
---

En este proceso se explica la forma en que pueden descargarse los datos disponibles en la [API](https://bchapi-am.developer.azure-api.net/) del Banco Central de Honduras (BCH), utilizando Julia.

# Acceso a los Datos

Una vez que se crea el registro de usuario (usar el botón "Suscribirse" en el [sitio web](https://bchapi-am.developer.azure-api.net/), puede verse el procedimiento de registro e inicio de sesión en [YouTube](https://www.youtube.com/watch?v=8ZBllMSsKw4)), se necesita obtener una clave (ver explicación en [YouTube](https://www.youtube.com/watch?v=mV90s74OCfc)), ejecutando una consulta al catálogo de indicadores. Favor sustituir en el código la clave actual por su clave asignada.

Para conocer los datos disponibles, se debe ejecutar una consulta al catálogo de indicadores, que contiene información sobre las series disponibles:

* Nombre (código)
* Descripción
* Periodicidad
* Grupo
* Correlativo del Grupo

```{r}
library(DT)
library(httr)
library(jsonlite)
library(plotly)
library(tidyverse)

clave <- "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" #Favor ingresar la clave proporcionada.
```

# Formatos de consulta

## 1. Consulta de catálogo de indicadores

Consulta el catálogo de indicadores publicados mediante la Web-API, asimismo, se obtiene el detalle de la información del indicador: Id, nombre, descripción, grupo, correlativo de grupo y periodicidad. Ningún parámetro es obligatorio.

El formato para realizar una consulta personalizada es el siguiente:

`https://bchapi-am.azure-api.net/api/v1/indicadores[?formato][&nombre][&descripcion][&periodicidad][&ordenamiento][&grupo][&correlativogrupo][&omitir][&reciente]`

Este es el listado de todos los indicadores disponibles:

```{r}
get_indicators <- function() {
    res <- GET(
        "https://bchapi-am.azure-api.net/api/v1/indicadores/?formato=Json",
        add_headers(Clave=clave))
    data <- fromJSON(rawToChar(res$content))
    data <- data.frame(data)
    return(data)
}
```

```{r}
data <- get_indicators()
# print(nrow(data))
# print(ncol(data))
# print(names(data))
knitr::kable(head(data))
knitr::kable(tail(data))
```

Consultar solamente los indicadores filtrados por nombre (puede usarse partes del nombre), por ejemplo, "ESR":

```{r}
get_indicators_filter <- function(url) {
    res <- GET(
        url,
        add_headers(Clave=clave))
    data <- fromJSON(rawToChar(res$content))
    data <- data.frame(data)
    return(data)
}
```


```{r}
url <- "https://bchapi-am.azure-api.net/api/v1/indicadores/?formato=Json&nombre=ESR"
data <- get_indicators_filter(url)
knitr::kable(head(data))
```

Esto aplica para el resto de los campos; un ejemplo de consulta con varios filtros:

```{r}
url <- "https://bchapi-am.azure-api.net/api/v1/indicadores/?formato=Json&nombre=PIBA&correlativogrupo=10&Descripcion=Constantes"
data <- get_indicators_filter(url)
knitr::kable(head(data))
```

Nota: tomar en cuenta para todas las consultas por filtro que si la ruta no existe, el código genera un error.

## 2. Consulta cifras por Id de indicador

Consulta las cifras para un indicador en específico obtenido por el Id del indicador. El parámetro "Id" es un campo obligatorio el resto de criterios quedan a consideración del usuario. Si no se especifican parámetros, se obtendrán todos los datos disponibles para el indicador requerido, lo que podría demorar la obtención de la consulta, en ese sentido lo que se sugiere afinar la búsqueda a los criterios requeridos.

El formato para realizar una consulta personalizada es el siguiente:

`https://bchapi-am.azure-api.net/api/v1/indicadores/{id}/cifras[?formato][&fechaInicio][&fechaFinal][&valorMinimo][&valorMaximo][&ordenamiento][&omitir][&reciente]`

```{r}
get_data_indicator <- function(id) {
    url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/",as.character(id),"/cifras")
    res <- GET(
        url,
        add_headers(Clave=clave))
    data <- fromJSON(rawToChar(res$content))
    data$Fecha <- as.Date(data$Fecha)
    data <- data.frame(data)
    return(data)
}
```

Consultar solo un indicador:

```{r}
id <- 5
data <- get_data_indicator(id)
knitr::kable(head(data))
```

```{r}
get_data_indicators <- function(ids) {
  data <- data.frame()
  for (i in 1:length(ids)) { 
    data <- rbind(data,get_data_indicator(ids[i]))
  }
  data$Fecha <- as.Date(data$Fecha)
  data <- data.frame(data)
  return(data)
}
```

Consultar varios indicadores, usando rangos:

```{r}
ids <- range(c(1,20))
data <- get_data_indicators(ids)
knitr::kable(head(data))
knitr::kable(tail(data))
```

```{r}
ids <- seq(1, 10, by=2)
data <- get_data_indicators(ids)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Consultar varios indicadores, usando IDs no contínuas:

```{r}
ids <- c(1,7,25,35)
data <- get_data_indicators(ids)
knitr::kable(head(data))
knitr::kable(tail(data))
```

```{r}
get_data_indicator_filter <- function(url,id) {
  res <- GET(
    url,
    add_headers(Clave=clave))
  data <- fromJSON(rawToChar(res$content))
  data <- data.frame(data)
  return(data)
}
```

Consultar solo un indicador, usando filtros:

```{r}
id = 1
FechaInicio <- "2023-03-01"
FechaFinal <- "2023-09-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/",as.character(id),"/cifras?FechaInicio=",FechaInicio,"&FechaFinal=",FechaFinal)
data <- get_data_indicator_filter(url,id)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## 3. Consulta Indicadores por grupo

Consulta un conjunto de indicadores publicados mediante la Web-API por grupo de indicadores. El parámetro "grupo" es un campo obligatorio.

El formato para realizar una consulta personalizada es el siguiente:

`https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/{grupo}[?formato]`

```{r}
get_groups <- function() {
    res <- GET(
        "https://bchapi-am.azure-api.net/api/v1/indicadores/?formato=Json",
        add_headers(Clave=clave))
    data <- fromJSON(rawToChar(res$content))
    data <- data.frame(data)
    return(data)
}
```


Consultar lista de todos los indicadores:

```{r}
data <- get_groups()
knitr::kable(head(data))
knitr::kable(tail(data))
```

Consultar componentes de grupo por filtro (en este caso debe especificarse el nombre completo del grupo, de acuerdo con la tabla anterior; caso contrario, se generan errores):

```{r}
get_groups_filter <- function(url) {
    res = GET(
        url,
        add_headers(Clave=clave))
    data <- fromJSON(rawToChar(res$content))
    data <- data.frame(data)
    return(data)
}
```

```{r}
grupo <- "ESR-PIBT-PROD-OG-CONST"
url = paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",grupo,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## 4. Consulta cifras por grupo de indicadores

Consultar las cifras de todos los indicadores por grupo de indicadores. El parámetro "grupo" es un campo obligatorio.

El formato para realizar una consulta personalizada es el siguiente:

`https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/{grupo}/cifras[?formato]`

Debe especificarse el nombre completo del (los) grupo(s), de acuerdo con la tabla anterior; caso contrario, se generan errores.

```{r}
get_data_group <- function(group) {
    url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",group,"/cifras")
    res <- GET(
        url,
        add_headers(Clave=clave))
    data <- fromJSON(rawToChar(res$content))
    data$Fecha <- as.Date(data$Fecha)
    data$Grupo <- group
    data <- data.frame(data)
    return(data)
}
```

Consultar cifras de un solo grupo:

```{r}
group <- "ESR-PIBT-PROD-OG-CONST"
data <- get_data_group(group)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Consultar cifras de varios grupos:

```{r}
get_data_groups <- function(groups) {
  data <- data.frame()
  for (i in 1:length(groups)) { 
    data <- rbind(data,get_data_group(groups[i]))
  }
  data <- data.frame(data)
  return(data)
}
```

```{r}
groups <- c("ESE-PII-01","ESR-PIBT-PROD-OG-CONST")
data <- get_data_groups(groups)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## 5. Consulta por fecha de registro

Consulta el valor de un indicador para una fecha específica. Todos los parámetros son obligatorios.

El formato para realizar una consulta personalizada es el siguiente:

`https://bchapi-am.azure-api.net/api/v1/indicadores/{id}/cifras/{fecha}[?formato]`

```{r}
get_data_date <- function(id,date) {
    url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/",as.character(id),"/cifras/",date,"?formato=JSON")
    res <- GET(
        url,
        add_headers(Clave=clave))
    data <- fromJSON(rawToChar(res$content))
    data$Fecha <- as.Date(data$Fecha)
    data$Grupo <- group
    data <- data.frame(data)
    return(data)
}
```

Consultar solamente un Id y una fecha:

```{r}
id <- 2
date <- "2023-03-01"
data <- get_data_date(id,date)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## 6. Consulta de información por Id de indicador

Consulta el detalle de la información del indicador: Id, nombre, descripción, grupo, correlativo de grupo y periodicidad. El parámetro "Id" es un campo obligatorio.

El formato para realizar una consulta personalizada es el siguiente:

`https://bchapi-am.azure-api.net/api/v1/indicadores/{id}/cifras/{fecha}[?formato]`

Consultar solamente un Id:

```{r}
get_info_id <- function(id) {
  url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/",as.character(id),"?formato=JSON")
  res <- GET(
    url,
    add_headers(Clave=clave))
  data <- fromJSON(rawToChar(res$content))
  data <- data.frame(data)
  return(data)
}
```


```{r}
id <- 1
data <- get_info_id(id)
knitr::kable(head(data))
```

Consultar varios Ids, rango:

```{r}
get_info_ids <- function(ids) {
  data <- data.frame()
  for (i in 1:length(ids)) { 
    data <- rbind(data,get_info_id(ids[i]))
  }
  data <- data.frame(data)
  return(data)
}
```

```{r}
ids <- seq(1, 10, by=2)
data <- get_info_ids(ids)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Consultar varios Ids, números:

```{r}
ids <- c(1,7,25,50)
data <- get_info_ids(ids)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## 7. Conteo de cifras para cada indicador

Consulta los indicadores publicados mediante la Web-API devolviendo el conteo de registros disponibles para cada uno. Todos los filtros son opcionales.

El formato para realizar una consulta personalizada es el siguiente:

`https://bchapi-am.azure-api.net/api/v1/indicadores/conteos[?formato][&nombre][&descripcion][&periodicidad][&ordenamiento][&conteoMinimo][&conteoMaximo][&ordenamientoConteo][&grupo][&correlativogrupo][&omitir][&reciente]`

Esta forma de consulta permite filtrar por valores incompletos de los elementos nombre, descripcion y grupo.

```{r}
get_count_gids <- function(url) {
    res = GET(
        url,
        add_headers(Clave=clave))
    data <- fromJSON(rawToChar(res$content))
    data <- data.frame(data)
    return(data)
}
```

Filtro por nombre del indicador:

```{r}
filtro <- "EC-"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/conteos?formato=Json&nombre=",filtro)
data <- get_count_gids(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Filtro por descripción del indicador:

```{r}
filtro <- "PIB"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/conteos?formato=Json&descripcion=",filtro)
data <- get_count_gids(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Filtro por periodicidad del indicador:

- Diario;
- Mensual;
- Trimestral; y
- Anual.

```{r}
filtro <- "Mensual"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/conteos?formato=Json&periodicidad=",filtro)
data <- get_count_gids(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Filtro por grupo del indicador:

```{r}
filtro <- "ODA"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/conteos?formato=Json&grupo=",filtro)
data <- get_count_gids(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Filtro por correlativo de grupo del indicador:

```{r}
filtro <- 10
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/conteos?formato=Json&correlativogrupo=",as.character(filtro))
data <- get_count_gids(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## 8. Conteo de cifras para un indicador

Consulta el conteo de registros disponibles para un indicador en específico. El parámetro "Id" es un campo obligatorio.

El formato para realizar una consulta personalizada es el siguiente:

`https://bchapi-am.azure-api.net/api/v1/indicadores/{id}/conteos[?formato]`

```{r}
get_count_id1 <- function(id) {
  url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/",as.character(id),"/conteos?formato=Json")
  res <- GET(
    url,
    add_headers(Clave=clave))
  data <- fromJSON(rawToChar(res$content))
  data <- data.frame(data)
  return(data)
}
```

```{r}
id <- 110
data <- get_count_id1(id)
knitr::kable(head(data))
```

# Grupos

Las variables están categorizadas en 8 grupos principales y 54 subgrupos (ESE-BP-01 y ESE-CEB-01 contienen variables de periodicidad anual o trimestral, y EM-TPM-01 tiene variables de periodicidad diaria o mensual). La nomenclatura utilizada permite dividir estos en un máximo de cinco niveles, tomando en cuenta el separador (-). Se explicarán los mismos a continuacion, ordenando de acuerdo al número de niveles (número de subgrupos).

```{r}
df <- get_groups()
df <- df %>% 
  count(Grupo,Periodicidad, sort = TRUE) 
df <- df %>% 
  separate(
    Grupo, 
    into = c("Gr1","Gr2","Gr3","Gr4","Gr5"), 
    remove = FALSE)
df$Niv_Gr <- rowSums(!is.na(df[c(2:6)]))
df <- df %>% 
  mutate(Gr3 = replace_na(Gr3, "")) %>%
  mutate(Gr4 = replace_na(Gr4, "")) %>%
  mutate(Gr5 = replace_na(Gr5, ""))
knitr::kable(head(df))
knitr::kable(tail(df))
```

Todos los grupos pueden clasificarse en al menos dos subgrupos:

Los 8 grupos principales mencionados permiten consolidar los archivos de acuerdo con el origen de los datos en la página web del BCH, que en su mayoría pueden consultarse en los reportes dinámicos. A su vez, estos grupos pueden subdividirse en 25 subgrupos:






## EOM = Estadísticas de Operaciones Monetarias

### OMA = Operaciones de Mercado Abierto**

Cuatro niveles de agregación:

* 01 = Tasas de Rendimiento Diario de Valores Gubernamentales

```{r}
filtro <- "EOM-OMA-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

* 02 = Créditos (Niv_Descr_4 = 1-3) e Inversiones (Niv_Descr_4 = 4-6): Monto, Número de Solicitudes y Tasa

```{r}
filtro <- "EOM-OMA-02"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

* 03 = Monto, Número de Operaciones y Tasa

```{r}
filtro <- "EOM-OMA-03"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

* 04 = Monto, Número de Operaciones y Tasa (Dólares - Lempiras)

```{r}
filtro <- "EOM-OMA-04"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## ESR = Estadísticas del Sector Real

### COU = Cuadro de Oferta y Utilización

Detalla la interacción del producto con la actividad (el detalle se toma de acuerdo con la estructura de la columna "Nombre"). Para conocer la estructura de las estadísticas derivadas de este cuadro, consultar en la [página web del BCH](https://www.bch.hn/estadisticas-y-publicaciones-economicas/sector-real/cuentas-nacionales-anuales-base-2000/cuadro-oferta-y-utilizacion).

El orden está de acuerdo con el Nivel de Descripción 2 (Niv_Descr_2) y Nivel de Descripción 3 (Niv_Descr_3) de la columna Nombre, para los casos de:

* VALOR BRUTO DE PRODUCCIÓN: En el cuadro original, las filas son los productos a un nivel de dos dígitos de la Nomenclatura de Productos de Honduras (NPH) y las columnas son las actiivades económicas tomando en cuenta la Nomenclatura de Actividades Económicas de Honduras (NAEH).

* CONSUMO INTERMEDIO: En el cuadro original, las filas son los productos a un nivel de dos dígitos de la Nomenclatura de Productos de Honduras (NPH) y las columnas son las actividades económicas tomando en cuenta la Nomenclatura de Actividades Económicas de Honduras (NAEH).

* VALOR AGREGADO: En el cuadro original, las filas son los elementos indispensables para calcular el Valor Agregado Bruto, VAB (Remuneración de los Asalariados, Impuestos sobre la Producción y las Importaciones, Subvenciones, Excedente de Explotación, Ingreso Mixto y Consumo de Capital Fijo) y las columnas son las actiivades económicas tomando en cuenta la Nomenclatura de Actividades Económicas de Honduras (NAEH).

* OFERTA: En el cuadro original, las filas son los productos a un nivel de dos dígitos de la Nomenclatura de Productos de Honduras (NPH) y las columnas son los componentes de la Oferta Agregada a Precios de Comprador (Producción, Importaciones CIF, Ajuste CIF/FOB, Impuestos y Subvenciones a los Productos y Márgenes de Distribución).

* UTILIZACIÓN: En el cuadro original, las filas son los productos a un nivel de dos dígitos de la Nomenclatura de Productos de Honduras (NPH) y las columnas son los componentes de la Utilización Agregada a Precios de Comprador (Consumo Intermedio, Exportciones FOB, Gasto de Consumo Final y Formación Bruta de Capital).

Cada uno de estos detalles corresponde a una hoja de Excel en el archivo anual correspondiente.

Tomar en cuenta que, para realizar el cálculo del VAB por NAEH, se debe sumar las columnas de Valor Bruto de Producción y restar las de Consumo Intermedio; adicionalmente, como los datos correspondientes a Impuestos sobre los Productos y los Márgenes de Distribución solamente se encuentran a nivel de NPH, no se puede tener un VAB total que se obtenga por suma de VAB a nivel de actividad individual, en vista que debe restarse las de Subvenciones a los productos, mismas que se encuentran en el Cuadro de Oferta solamente a nivel de NPH. Esta forma de obtener el VAB se conoce como el cálculo del PIB por el enfoque del Ingreso.

Como la Oferta y Utilización están detalladas a nivel de NPH, el VAB por NPH a partir de los dos detalles previos, se puede obtener por dos métodos:

* Suma de Producción + Impuestos - Subvenciones a los Productos + Márgenes de Distribución (Oferta) - Consumo Intermedio (Utilización) => PIB por el enfoque de la Produccion.
* Exportaciones FOB + Gasto de Consumo Final + Formación Bruta de Capital (Utilización) - Importaciones CIF - Ajuste CIF/FOB (Oferta) => PIB por el enfoque del Gasto.

```{r}
filtro <- "ESR-COU-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### CCI = Clasificación Cruzada Industria

Para conocer la estructura de las estadísticas derivadas de este cuadro, consultar en la [página web del BCH](https://www.bch.hn/estadisticas-y-publicaciones-economicas/sector-real/cuentas-nacionales-anuales-base-2000/clasificacion-cruzada-industria-sector-institucional).

El archivo contiene 3 hojas, que pueden filtrarse de acuerdo con el Nivel de Descripción 1 (Niv_Descr_1) de la variable:

* Producción Bruta
* Consumo Intermedio
* Valor Agregado

Los cuadros en cada hoja contienen los valores a nivel de Industria en las filas y a nivel de Sector Institucional en las columnas.

Debido a que el VAB implica tomar en cuenta impuestos y subvenciones a nivel de NPH, no es posible obtener el cálculo de esta variable por suma a partir de los cuadros del CCI (ver explicación en el apartado del COU).

```{r}
filtro <- "ESR-CCI-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### VAB = Valor Agregado Bruto

#### Valor y Variación, Corrientes y Constantes, por NAEH

```{r}
filtro <- "ESR-VAB-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### Precio y Variación, Corrientes y Constantes, por NAEH

```{r}
filtro <- "ESR-VAB-02"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Notar que aquí el Nivel de Descripción 6 (Niv_Descr_6) no es una buena opción de desagregación, puesto que los componentes son "Actividad Económica" y “Productos Alimenticios, Bebidas y Tabaco”; esta última está detallada en mayor grado en el Nivel de Descripción 7 (Niv_Descr_7).

### PIBA = PIB Anual

#### Valores Corrientes y Constantes, por Actividad Económica

La información se encuentra en la viñeta "Sector Real" de la [página web del BCH](https://www.bch.hn/estadisticas-y-publicaciones-economicas/reportes-dinamicos/sector-real).

* Rama de Actividad Económica (RAE)
* Series Agregadas
* Variación RAE
* Variación Series Agregadas

```{r}
filtro <- "ESR-PIBA-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### Precios y Variación, por Componente del Gasto

```{r}
filtro <- "ESR-PIBA-02"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Tipo de Valores ("Niv_Descr_5"):

* Corrientes
* Constantes

#### Precios y Variación, por Componente del Ingreso

```{r}
filtro <- "ESR-PIBA-03"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Componente del Ingreso:

* Remuneración de los asalariados
* Impuestos netos de subvenciones sobre la producción y las importaciones
* Excedente de Explotación bruto
* Ingreso Mixto bruto
* Producto Interno Bruto (pm)

#### Ingreso Nacional, PIB, PNB

```{r}
filtro <- "ESR-PIBA-04"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

* Dólares
* Lempiras

### PIBT = PIB Trimestral

Lo que se detalla a continuación se obtiene a partir de los datos del [Portal de Consulta del Sistema de Cuentas Trimestrales](https://sisee.bch.hn/SCNT/Login.aspx?ReturnUrl=%2fSCNT%2fPortalPrincipal.aspx).

#### PROD = PIB Trimestral por el Enfoque de la Producción

CorrelativoGrupo:

1. Agricultura Ganaderí­a Caza Silvicultura y Pesca 
2. Explotación de Minas y Canteras
3. Industrias Manufactureras
4. Electricidad y Distribución de Agua
5. Construcción
6. Comercio Reparación de Vehí­culos Automotores Motocicletas Efectos Personales y Enseres Domésticos Hoteles y Restaurantes
7. Transporte y Almacenamiento
8. Comunicaciones
9. Intermediación Financiera
10. Propiedad de Vivienda Actividades Inmobiliarias y Empresariales
11. Administración Pública y Defensa Planes de Seguridad Social de Afiliación Obligatoria
12. Servicios de Enseñanza Servicios Sociales y de Salud
13. Servicios Comunitarios Sociales y Personales
14. Menos Servicios de Intermediación Financiera Medidos Indirectamente (SIFMI)
15. Valor Agregado Bruto a precios básicos
16. Más Impuestos netos de subvenciones sobre la producción y las importaciones
17. Producto Interno Bruto a precios de mercado


##### OG-CONST = PIB Trimestral por el Enfoque de la Producción, Serie Original, Valores Constantes

```{r}
filtro <- "ESR-PIBT-PROD-OG-CONST"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

##### OG-CORR = PIB Trimestral por el Enfoque de la Producción, Serie Original, Valores Corrientes

```{r}
filtro <- "ESR-PIBT-PROD-OG-CORR"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

##### DES-CONST = PIB Trimestral por el Enfoque de la Producción, Serie Desestacionalizada, Valores Constantes

```{r}
filtro <- "ESR-PIBT-PROD-DES-CONST"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

##### DES-CORR = PIB Trimestral por el Enfoque de la Producción, Serie Desestacionalizada, Valores Corrientes

```{r}
filtro <- "ESR-PIBT-PROD-DES-CORR"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### GAST = PIB Trimestral por el Enfoque del Gasto

CorrelativoGrupo:

1.	Gastos de Consumo Final
2.	Sector Privado
3.	Sector PÃºblico
4.	FormaciÃ³n Bruta de Capital
5.	Exportaciones de Bienes y Servicios
6.	ImportaciÃ³n de Bienes y Servicios
7.	Producto Interno Bruto a precios de mercado


##### OG-CONST = PIB Trimestral por el Enfoque de del Gasto, Serie Original, Valores Constantes

```{r}
filtro <- "ESR-PIBT-GAST-OG-CONST"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

##### OG-CORR = PIB Trimestral por el Enfoque de del Gasto, Serie Original, Valores Corrientes

```{r}
filtro <- "ESR-PIBT-GAST-OG-CORR"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

##### DES-CONST = PIB Trimestral por el Enfoque del Gasto, Serie Desestacionalizada, Valores Constantes

```{r}
filtro <- "ESR-PIBT-GAST-DES-CONST"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

##### DES-CORR = PIB Trimestral por el Enfoque del Gasto, Serie Desestacionalizada, Valores Corrientes

```{r}
filtro <- "ESR-PIBT-GAST-DES-CORR"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### TDC = PIB Trimestral, Tasas de Crecimiento, Valores Ajustados

```{r}
filtro <- "ESR-PIBT-TDC-Valores"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### ODA = Oferta y Demanda Agregada

La estructura de estas variables puede verse en el [INE](https://view.officeapps.live.com/op/view.aspx?src=https%3A%2F%2Fine.gob.hn%2Fv4%2Fwp-content%2Fuploads%2F2023%2F06%2F7.1.5-Oferta-y-demanda-global-millones-de-lempiras-corrientes-2017-2021.xlsx&wdOrigin=BROWSELINK).

#### Oferta Global

Los números corresponden al correlativo de acuerdo con el cuadro citado.

**Niv_Descr_2 = VALOR AGREGADO BRUTO; Niv_Descr_3:**

3. AGRICULTURA, GANADERÍA, CAZA, SILVICULTURA Y PESCA (A PRECIOS BÁSICOS)
4. EXPLOTACIÓN DE MINAS Y CANTERAS (A PRECIOS BÁSICOS)
5. INDUSTRIA MANUFACTURERA (A PRECIOS BÁSICOS)
6. CONSTRUCCIÓN (A PRECIOS BÁSICOS)
7. COMERCIO, HOTELES Y RESTAURANTES (A PRECIOS BÁSICOS)
9. MENOS: SERVICIOS DE INTERMEDIACIÓN FINANCIERA MEDIDOS INDIRECTAMENTE (A PRECIOS BÁSICOS)

Niv_Descr_4 corresponde a:

* EN MILLONES DE LEMPIRAS CONSTANTES
* EN MILLONES DE LEMPIRAS CORRIENTES
* VARIACIONES RELATIVAS CONSTANTE
* VARIACIONES RELATIVAS CORRIENTES

**Niv_Descr_2 = ""; Niv_Descr_3 = ""; Niv_Descr_4:**

8. OTROS SERVICIOS (A PRECIOS BÁSICOS)
10. IMPUESTOS NETOS DE SUBVENCIONES SOBRE LA PRODUCCIÓN Y LAS IMPORTACIONES
11. PRODUCTO INTERNO BRUTO A PRECIOS DE MERCADO
12. IMPORTACIONES DE BIENES Y SERVICIOS C.I.F.
1. OFERTA GLOBAL
13. TOTAL VALOR AGREGADO BRUTO A PRECIOS BáSICOS
14. VALOR AGREGADO BRUTO
2. VALOR AGREGADO BRUTO A PRECIOS BÁSICOS

Niv_Descr_5 corresponde a:

* EN MILLONES DE LEMPIRAS CONSTANTES
* EN MILLONES DE LEMPIRAS CORRIENTES
* VARIACIONES RELATIVAS CONSTANTE
* VARIACIONES RELATIVAS CORRIENTES

#### Demanda Global

**Niv_Descr_2 = ""; Niv_Descr_3 = ""; Niv_Descr_4:**

1. DEMANDA GLOBAL
2. DEMANDA INTERNA
3. GASTOS DE CONSUMO FINAL
4. INVERSIÓN INTERNA BRUTA
5. FORMACIÓN BRUTA DE CAPITAL FIJO
6. VARIACIÓN DE EXISTENCIAS
7. DEMANDA EXTERNA
8. EXPORTACIÓN DE BIENES Y SERVICIOS F.O.B.

Niv_Descr_5, de acuerdo con lo anterior, es:

* EN MILLONES DE LEMPIRAS CONSTANTES
* EN MILLONES DE LEMPIRAS CORRIENTES
* VARIACIONES RELATIVAS CONSTANTE
* VARIACIONES RELATIVAS CORRIENTES

**Variables con valores en Niv_Descr_2 y Niv_Descr_3, corresponde a las siguientes series:**

3. GASTOS DE CONSUMO FINAL
5. FORMACIÓN BRUTA DE CAPITAL FIJO

De Niv_Descr_3 se obtiene:

a. SECTOR PRIVADO
b. SECTOR PÚBLICO

Niv_Descr_4, de acuerdo con lo anterior, es:

* EN MILLONES DE LEMPIRAS CONSTANTES
* EN MILLONES DE LEMPIRAS CORRIENTES
* VARIACIONES RELATIVAS CONSTANTE
* VARIACIONES RELATIVAS CORRIENTES

```{r}
filtro <- "ESR-ODA-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### IMAE = Índice Mensual de la Actividad Económica

Las actividades (Niv_Descr_4) son:

1. Agricultura, Ganaderia, Silvicultura y Pesca
2. Minas y Canteras
3. Industria Manufacturera
4. Electricidad y Agua
5. Construcción
6. Comercio
7. Hoteles y Restaurantes
8. Transporte y Almacenamiento
9. Correo y Telecomunicaciones
10. Inter. Financiera, Seguros y Fondos de Pensiones
11. Otros Servicios
12. Serie Original
13. Tendencia Ciclo

El tipo de valor (Niv_Descr_5) de dichas variables es:

* Índice
* Acumulada
* Interanual

```{r}
filtro <- "ESR-IMAE-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## ESE = Estadísticas del Sector Externo

### DE = Deuda Externa

#### 01 - Deudor

```{r}
filtro <- "ESE-DE-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 02 - Acreedor

```{r}
filtro <- "ESE-DE-02"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 03 - Institución

Las instituciones son:

* Banco Central
* Gobierno general
* Otras sociedades financieras
* Otros Sectores
* Saldo bruto de la deuda externa
* Sociedades no financieras

Las cuentas son: 

* Asignación de Derechos especiales de giro
* Créditos y anticipos comerciales
* Moneda y depósitos
* Otros pasivos de deuda
* Préstamos
* Tí­tulos de deuda
* Saldo bruto de la deuda externa

```{r}
filtro <- "ESE-DE-03"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 04 - Pagos que vencen en un año o menos

```{r}
filtro <- "ESE-DE-04"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

Por institución:

* Gobierno general
* Banco Central
* Otros Sectores
* Otras sociedades financieras
* Sociedades no financieras
* Deuda externa total a corto plazo

Por plazos:

* A corto plazo según el vencimiento original
* A largo plazo exigible dentro de un año o antes
* Deuda externa total a corto plazo

Por Cuenta:

* Asignación de Derechos especiales de giro
* Moneda y depósitos
* Tí­tulos de deuda
* Préstamos
* Créditos y anticipos comerciales
* Otros pasivos de deuda
* Deuda externa total a corto plazo (según el vencimiento residual)

**OJO: REVISAR LA CONSULTA A PARTIR DE 7392 HASTA 7446**

### CEB = Comercio Exterior de Bienes

#### 01 - Productos

* Banano
* Café
* Aceite de Palma
* Camarones
* Melones y Sandí­as
* Legumbres y Hortalizas
* Puros o Cigarros
* Textiles
* Jabones
* Plásticos y su Manufacturas
* Papel y Cartón

Tipo de valor:

* Volumen
* Valor
* Precio

Periodicidad:

* Trimestral
* Anual

```{r}
filtro <- "ESE-CEB-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

**OJO: Niv_Descr_7 y Niv_Descr_8 son iguales**

#### 02 - Combustibles

* Gasolina regular
* Bunker
* Diesel
* Total combustibles
* Gasolina superior
* Kerosene
* LPG

Tipo de valor:

* Barriles
* Valor
* Precio

```{r}
filtro <- "ESE-CEB-02"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 03 AE, BT Sección, Secciones

* Importaciones AE
* Importaciones BT Sección
* Importaciones Secciones: Valores en Millones de USD y Peso en Kilos

```{r}
filtro <- "ESE-CEB-03"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 04 AE y BT

* Exportaciones AE
* Exportaciones BT

```{r}
filtro <- "ESE-CEB-04"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### BP = Balanza de Pagos

- Trimestral
- Anual

```{r}
filtro <- "ESE-BP-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### IES = Ingresos y Egresos de Servicios

Ingresos y Egresos:

* Exportaciones (Ingresos)
* Importaciones (Egresos)

Periodicidad:

* Anual
* Trimestral

Variables:

* Transporte
* Viajes
* Servicios de Comunicaciones
* Otros Servicios Empresariales
* Servicios de Gobierno
* Otros Servicios
* Servicios de Seguro
* Servicios de InformÃ¡tica e Información
* Servicios de RegalÃ­as y Derechos de Licencia

**OJO: La columna Periodicidad menciona que todo es Trimestral, sin embargo la Descripción menciona valores anuales y trimestrales.**

```{r}
filtro <- "ESE-IES-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### PII = Posición de Inversión Internacional

Agrupación:

* Posición de Inversión Internacional por Categorí­a
* Posición de los Activos Financieros con no Residentes por Componente
* Posición de los Pasivos Financieros con no Residentes por Componente
* Posición de Inversión Internacional Neta por Componente

Cuentas:

* Activos
* Pasivos
* PII Neta
* Inversió³n extranjera directa
* Inversión de cartera
* Derivados financieros
* Otra inversión
* Activos de reservas lí­quidos oficiales

```{r}
filtro <- "ESE-PII-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### IED = Inversión Extranjera Directa

```{r}
filtro <- "ESE-IED-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## EMF = Estadísiticas Monetarias y Financieras (Sector Fiscal)

### AMCC = Agregados Monetarios, Crédito y Captación

#### 01 Agregados Monetarios, Crédito y Captación

```{r}
filtro <- "EMF-AMCC-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 02 Captación: Bancos Comerciales y Otras Sociedades de Depósito (Variación y Saldo)

```{r}
filtro <- "EMF-AMCC-02"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 03 Crédito de los Bancos Comerciales

```{r}
filtro <- "EMF-AMCC-03"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 04 Crédito Otras Sociedades de Depósito

```{r}
filtro <- "EMF-AMCC-04"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 05 Saldo de Préstamos (Millones de Lempiras)

```{r}
filtro <- "EMF-AMCC-05"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

De los siguientes sectores:

* Agropecuaria
* Comercio
* Consumo
* Industria
* Propiedad Raí­z
* Servicios
* Total

#### 06 Préstamos Nuevos (Flujos acumulados en millones de lempiras)

```{r}
filtro <- "EMF-AMCC-06"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

De los siguientes sectores:

* Agropecuaria
* Comercio
* Consumo
* Industria
* Propiedad Raí­z
* Servicios
* Total

### TI = Tasas de Interés

#### 01 Tasas de Interés, Activa y Pasiva, por Moneda

Por Tipo:

* Activa Préstamos
* Pasiva Ahorros
* Pasiva Cheques
* Pasiva Plazo

Por Moneda:

* Moneda Nacional
* Moneda Extranjera

```{r}
filtro <- "EMF-TI-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 02 Por Actividad

Por Moneda:

* Moneda Nacional
* Moneda Extranjera

```{r}
filtro <- "EMF-TI-02"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 03 Tasas de Interés Anuales

* Tasas de Interés Anuales Mí­nimas y Máximas del Sistema Bancario Comercial
* Tasas de Interés Anuales Promedio Ponderadas del Sistema Financiero

Por tipo:
Activa
Pasiva

Por Unidad de Medida:

* Máxima
* Mínima
* Promedio
* Por Moneda:

* Nacional
* Extranjera

```{r}
filtro <- "EMF-TI-03"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### PFS = Panorama de las Sociedades Financieras

#### 01 Bancos Comerciales, Activos y Pasivos Externos

```{r}
filtro <- "EMF-PFS-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

#### 02 Activos y Pasivos Externos

```{r}
filtro <- "EMF-PFS-02"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### EBM = Emisión y Base Monetaria

* Saldo
* Variación

```{r}
filtro <- "EMF-EBM-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```


## EM = Estadísticas Monetarias (TPM y RIN)

### RIN = Reservas Internacionales Netas (RIN)

* RIN
* Activos de Reserva Oficial

```{r}
filtro <- "EM-RIN-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### TPM = Tasa de Política Monetaria

```{r}
filtro <- "EM-TPM-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## ESP = Estadísticas de Sistema de Pagos

### ACH = Operaciones de Crédito Compensadas en Ceproban y Liquidadas en BCH

```{r}
filtro <- "ESP-ACH-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### CCECH = Cheques Compensados en Ceproban y Liquidados en BCH

```{r}
filtro <- "ESP-CCECH-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## EC = Estadísticas de Tipo de Cambio

### TCR = Tipo de Cambio de Referencia

```{r}
filtro <- "EC-TCR"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

### TCN = Tipo de Cambio Nominal

```{r}
filtro <- "EC-TCN-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

## EP = Estadísticas de Precios

### IPC Índice de Precios al Consumidor

```{r}
filtro <- "EP-IPC-01"
url <- paste0("https://bchapi-am.azure-api.net/api/v1/indicadores/grupo/",filtro,"?formato=Json")
data <- get_groups_filter(url)
knitr::kable(head(data))
knitr::kable(tail(data))
```

# Descargar Indicadores por Rangos

```{r}
# ids = 11001:11519 # Total de indicadores: 11519
# get_data_indicators(ids)
```

```{r}
ids <- c(1,11519) # Total de indicadores: 11519
data <- get_data_indicators(ids)
knitr::kable(head(data))
knitr::kable(tail(data))
```

**OJO: las columnas 6642 hasta 6687 tienen error: column name "Fecha" not found in the data frame since it has no columns**
**OJO: las columnas 7392 hasta 7446 tienen error: column name "Fecha" not found in the data frame since it has no columns**

# Filtar Series por palabra clave

```{r}
data <- get_indicators()
datatable(data)
```

# Gráficos

```{r}
ids <- c(8,29,37,40,185,190,195,199) # Total de indicadores: 11519
data <- get_data_indicators(ids)
knitr::kable(tail(data))

fig <- plot_ly(data, 
  x = ~Fecha,
  y = ~Valor,
  color = ~Descripcion,
  type = 'scatter',
  mode = 'lines') %>%
  layout(
    xaxis = list(title = ''),
    yaxis = list(title = ''),
    legend = list(
      orientation = "h",
      xanchor = "center",
      title=list(text=''),
      x = 0.5),
    title = "",
    xaxis = list(dtick = ""))
fig
```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```



```{r}

```

